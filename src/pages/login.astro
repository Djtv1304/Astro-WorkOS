---
import { workos } from "../lib/workos";

const authorizationUrl = workos.userManagement.getAuthorizationUrl({
    // Specify that we'd like AuthKit to handle the authentication flow
    provider: "authkit",

    // The callback endpoint that WorkOS will redirect to after a user authenticates
    redirectUri: import.meta.env.PUBLIC_WORKOS_REDIRECT_URI,
    clientId: import.meta.env.WORKOS_CLIENT_ID,
});

// Redirect the user to the AuthKit sign-in page
return Astro.redirect(authorizationUrl);
---